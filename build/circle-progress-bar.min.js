!function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n){window.CircleProgressBar=function(t,n){var e=this;this._value=0,this._canvas=null,this._context=null,this._defaultOptions={colors:["#9400D3","#4B0082","#0000FF"],x:null,y:null,radius:120,lineWidth:15,frameInterval:5,frameStep:.05,startPosition:-Math.PI/2,lineCap:"round",trackLineColor:"#eee",maxColorsCountByValue:{.05:2,.2:2,.3:3,.4:4,.6:5}},this._options=null,this._currentPartLength=.1,this._colorsCount=null,this.setOptions=function(t){var n=e._options?e._options:e._defaultOptions;e._options=e.extend(n,t,!0)},this.getValue=function(){return e._value},this.setValue=function(t){t=parseFloat(t),isNaN(t)||t<0?t=0:t>1&&(t=1),e._value=t,e.draw()},this.setCurrentPartLength=function(t){return t=parseFloat(t),!isNaN(t)&&(this._currentPartLength=t,!0)},this.sendEvent=function(t,n){var o=new CustomEvent("circleProgressBar."+t,{detail:n});e._canvas.dispatchEvent(o)},this.init=function(t,n){if(!t)throw"Canvas not set";e.setOptions(n),e._canvas=t,e._context=t.getContext("2d"),e._context.lineCap=e._options.lineCap,e._options.x||(e._options.x=e._canvas.width/2),e._options.y||(e._options.y=e._canvas.height/2),e.sendEvent("init",e._options)},this.draw=function(){var t=e._context,n=e.clone(e._options.colors),o=null,r=null,i=e._currentPartLength,a=e.getValue();e.isArray(n)||(n=[n]);var s=e._options.maxColorsCountByValue,c=null;s&&Object.keys(s).map(function(t,n){var e=s[t];!c&&a<=t&&(c=e)}),c>0&&(n=e.cutArrayFromCenter(n,c)),1===n.length&&n.push(n[0]),2===n.length&&1==a&&(n.push(n[1]),n.unshift(n[0])),e._colorsCount>0&&(i*=e._colorsCount/n.length),e._colorsCount=n.length;var l=2*Math.PI/(n.length-1)*a;l<=0&&(l=.03);var u=e._options.frameStep/n.length,h=e._options.lineWidth,p=e._options.trackLineColor,_=e._options.startPosition,f=null,v=e._options.x,d=e._options.y,x=e._options.radius,g=setInterval(function(){var a=_;if(i===l)return clearInterval(g),e.sendEvent("afterDraw",{self:e}),!1;var s=Math.abs(i-l);s<u&&(u=s),u=i>l?-1*Math.abs(u):Math.abs(u),i+=u,e.clear(),p&&e.drawArc(v,d,x,Math.PI/180*270,Math.PI/180*630,p,h);for(var c=0;c<n.length-1;c++){o=n[c],r=n[c+1];var y=v+Math.cos(a)*x,C=v+Math.cos(a+i)*x,P=d+Math.sin(a)*x,b=d+Math.sin(a+i)*x;f=t.createLinearGradient(y,P,C,b),f.addColorStop(0,o),f.addColorStop(1,r),e.drawArc(v,d,x,a,a+i,f,h),a+=i}e.setCurrentPartLength(i),e.sendEvent("afterFrameDraw",{self:e,progress:i/l})},e._options.frameInterval)},this.drawArc=function(t,n,o,r,i,a,s){e._context.beginPath(),e._context.strokeStyle=a,e._context.arc(t,n,o,r,i),e._context.lineWidth=s,e._context.stroke(),e._context.closePath()},this.clear=function(){var t=e._options.radius+e._options.lineWidth,n=e._options.x,o=e._options.y;e._context.clearRect(n-t,o-t,n+t,o+t)},this.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},this.isObject=function(t){return"[object Array]"!==Object.prototype.toString.call(t)&&("object"==typeof t&&!!t)},this.cutArrayFromCenter=function(t,n){if(!e.isArray(t))return!1;var o=t.length;if(o<=n)return t;var r=o-n,i=[];return t.forEach(function(t,n,e){(0==n||r<n)&&i.push(t)}),i},this.extend=function(t,n,o){t=t||{},n=n||{},o=o||!1;for(var r in n)if(n.hasOwnProperty(r)){var i=t[r],a=n[r];o&&e.isObject(i)&&e.isObject(a)?t[r]=e.extend(i,a,o):t[r]=a}return t},this.clone=function(t){return JSON.parse(JSON.stringify(t))},this.init(t,n)}}]);