!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n){window.CircleProgressBar=function(t,n){var e=this;this._value=0,this._canvas=null,this._context=null,this._defaultOptions={colors:["#9400D3","#4B0082","#0000FF"],x:null,y:null,radius:120,lineWidth:15,frameInterval:10,frameStep:.1,startPosition:-Math.PI/2,lineCap:"round",trackLineColor:"#eee",maxColorsCountByValue:{.05:2,.2:2,.3:3,.4:4,.6:5}},this._options=null,this._currentPartLength=.1,this._colorsCount=null,this.setOptions=function(t){var n=e._options?e._options:e._defaultOptions;e._options=e.extend(n,t,!0)},this.getValue=function(){return e._value},this.setValue=function(t){t=parseFloat(t),isNaN(t)||t<0?t=0:t>1&&(t=1),e._value=t,e.draw()},this.setCurrentPartLength=function(t){return t=parseFloat(t),!isNaN(t)&&(this._currentPartLength=t,!0)},this.sendEvent=function(t,n){var r=new CustomEvent("circleProgressBar."+t,{detail:n});e._canvas.dispatchEvent(r)},this.init=function(t,n){if(!t)throw"Canvas not set";e.setOptions(n),e._canvas=t,e._context=t.getContext("2d"),e._context.lineCap=e._options.lineCap,e._options.x||(e._options.x=e._canvas.width/2),e._options.y||(e._options.y=e._canvas.height/2),e.sendEvent("init",e._options)},this.getColors=function(){var t=e.clone(e._options.colors),n=e.getValue();e.isArray(t)||(t=[t]);var r=e._options.maxColorsCountByValue,o=null;return r&&Object.keys(r).map(function(t,e){var i=r[t];!o&&n<=t&&(o=i)}),o>0&&(t=e.cutArrayFromCenter(t,o)),1===t.length&&t.push(t[0]),2===t.length&&1==n&&(t.push(t[1]),t.unshift(t[0])),t},this.draw=function(){var t=e._context,n=null,r=null,o=e.getColors(),i=e._currentPartLength,a=e.getValue();e._colorsCount>0&&(i*=e._colorsCount/o.length),e._colorsCount=o.length;var s=2*Math.PI/(o.length-1)*a;s<=0&&(s=.03);var l=e._options.frameStep/o.length,u=e._options.lineWidth,c=e._options.trackLineColor,h=e._options.startPosition,p=null,_=e._options.x,f=e._options.y,v=e._options.radius,d=setInterval(function(){var a=h;if(i===s)return clearInterval(d),e.sendEvent("afterDraw",{self:e}),!1;var g=Math.abs(i-s);g<l&&(l=g),l=i>s?-1*Math.abs(l):Math.abs(l),i+=l,e.clear(),c&&e.drawArc(_,f,v,Math.PI/180*270,Math.PI/180*630,c,u);for(var x=0;x<o.length-1;x++){n=o[x],r=o[x+1];var C=_+Math.cos(a)*v,y=_+Math.cos(a+i)*v,P=f+Math.sin(a)*v,b=f+Math.sin(a+i)*v;p=t.createLinearGradient(C,P,y,b),p.addColorStop(0,n),p.addColorStop(1,r),e.drawArc(_,f,v,a,a+i,p,u),a+=i}e.setCurrentPartLength(i),e.sendEvent("afterFrameDraw",{self:e,progress:i/s})},e._options.frameInterval)},this.drawArc=function(t,n,r,o,i,a,s){e._context.beginPath(),e._context.strokeStyle=a,e._context.arc(t,n,r,o,i),e._context.lineWidth=s,e._context.stroke(),e._context.closePath()},this.clear=function(){var t=e._options.radius+e._options.lineWidth,n=e._options.x,r=e._options.y;e._context.clearRect(n-t,r-t,n+t,r+t)},this.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},this.isObject=function(t){return!e.isArray(t)&&("object"==typeof t&&!!t)},this.cutArrayFromCenter=function(t,n){if(!e.isArray(t))return!1;var r=t.length;if(r<=n)return t;var o=r-n,i=[];return t.forEach(function(t,n,e){(0==n||o<n)&&i.push(t)}),i},this.extend=function(t,n,r){t=t||{},n=n||{},r=r||!1;for(var o in n)if(n.hasOwnProperty(o)){var i=t[o],a=n[o];r&&e.isObject(i)&&e.isObject(a)?t[o]=e.extend(i,a,r):t[o]=a}return t},this.clone=function(t){return JSON.parse(JSON.stringify(t))},this.init(t,n)}}]);